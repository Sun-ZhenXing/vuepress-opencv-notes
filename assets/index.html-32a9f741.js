import{_ as s,o as n,c as l,e as a}from"./app-e045e1fd.js";const p={},o=a(`<h1 id="python-opencv-边缘检测" tabindex="-1"><a class="header-anchor" href="#python-opencv-边缘检测" aria-hidden="true">#</a> Python OpenCV 边缘检测</h1><p>下面使用 Sobel、Roberts、Prewitt、Canny、LOG 等算法实现边缘检测。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> cv2</span></span>
<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> matplotlib.pyplot </span><span style="color:#C586C0;">as</span><span style="color:#D4D4D4;"> plt</span></span>
<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> numpy </span><span style="color:#C586C0;">as</span><span style="color:#D4D4D4;"> np</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">img = cv2.imread(</span><span style="color:#CE9178;">&quot;test.jpg&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(img, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;Original&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Sobel</span></span>
<span class="line"><span style="color:#D4D4D4;">sobelx = cv2.Sobel(img, cv2.CV_64F, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">ksize</span><span style="color:#D4D4D4;">=</span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">sobely = cv2.Sobel(img, cv2.CV_64F, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">ksize</span><span style="color:#D4D4D4;">=</span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">sobel = cv2.addWeighted(sobelx, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, sobely, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">sobel = cv2.convertScaleAbs(sobel)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(sobel, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;Sobel&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Robert</span></span>
<span class="line"><span style="color:#D4D4D4;">robertx = np.array([[-</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">], [</span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">]], </span><span style="color:#9CDCFE;">dtype</span><span style="color:#D4D4D4;">=</span><span style="color:#4EC9B0;">float</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">roberty = np.array([[</span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">], [</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">]], </span><span style="color:#9CDCFE;">dtype</span><span style="color:#D4D4D4;">=</span><span style="color:#4EC9B0;">float</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">robertx_img = cv2.filter2D(img, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, robertx)</span></span>
<span class="line"><span style="color:#D4D4D4;">roberty_img = cv2.filter2D(img, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, roberty)</span></span>
<span class="line"><span style="color:#D4D4D4;">robert = cv2.addWeighted(robertx_img, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, roberty_img, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(robert, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;Robert&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Prewitt</span></span>
<span class="line"><span style="color:#D4D4D4;">prewittx = np.array([[-</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">], [-</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">], [-</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">]], </span><span style="color:#9CDCFE;">dtype</span><span style="color:#D4D4D4;">=</span><span style="color:#4EC9B0;">float</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">prewitty = np.array([[-</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">], [</span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">], [</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">]], </span><span style="color:#9CDCFE;">dtype</span><span style="color:#D4D4D4;">=</span><span style="color:#4EC9B0;">float</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">prewittx_img = cv2.filter2D(img, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, prewittx)</span></span>
<span class="line"><span style="color:#D4D4D4;">prewitty_img = cv2.filter2D(img, -</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">, prewitty)</span></span>
<span class="line"><span style="color:#D4D4D4;">prewitt = cv2.addWeighted(prewittx_img, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, prewitty_img, </span><span style="color:#B5CEA8;">0.5</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">4</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(prewitt, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;Prewitt&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># Canny</span></span>
<span class="line"><span style="color:#D4D4D4;">canny = cv2.Canny(img, </span><span style="color:#B5CEA8;">100</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">200</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">5</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(canny, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;Canny&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># LOG</span></span>
<span class="line"><span style="color:#D4D4D4;">log = cv2.Laplacian(img, cv2.CV_64F)</span></span>
<span class="line"><span style="color:#D4D4D4;">log = cv2.convertScaleAbs(log)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.subplot(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">3</span><span style="color:#D4D4D4;">, </span><span style="color:#B5CEA8;">6</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.imshow(log, </span><span style="color:#9CDCFE;">cmap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;gray&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.title(</span><span style="color:#CE9178;">&quot;LOG&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.xticks([])</span></span>
<span class="line"><span style="color:#D4D4D4;">plt.yticks([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">plt.show()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),e=[o];function D(c,t){return n(),l("div",null,e)}const i=s(p,[["render",D],["__file","index.html.vue"]]);export{i as default};
